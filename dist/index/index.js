"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkjj"] = self["webpackChunkjj"] || []).push([["index"],{

/***/ "./src/pages/index/index.js":
/*!**********************************************!*\
  !*** ./src/pages/index/index.js + 1 modules ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(\"./node_modules/@babel/runtime-corejs3/helpers/esm/classCallCheck.js\");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/helpers/esm/createClass.js\nvar createClass = __webpack_require__(\"./node_modules/@babel/runtime-corejs3/helpers/esm/createClass.js\");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs3/core-js-stable/instance/find.js\nvar find = __webpack_require__(\"./node_modules/@babel/runtime-corejs3/core-js-stable/instance/find.js\");\nvar find_default = /*#__PURE__*/__webpack_require__.n(find);\n;// CONCATENATED MODULE: ./src/pages/index/index.scss\n// extracted by mini-css-extract-plugin\n\n// EXTERNAL MODULE: ./node_modules/jquery/dist/jquery.js\nvar jquery = __webpack_require__(\"./node_modules/jquery/dist/jquery.js\");\nvar jquery_default = /*#__PURE__*/__webpack_require__.n(jquery);\n// EXTERNAL MODULE: ./src/scripts/header.js + 2 modules\nvar header = __webpack_require__(\"./src/scripts/header.js\");\n// EXTERNAL MODULE: ./src/scripts/drawer-search.js + 1 modules\nvar drawer_search = __webpack_require__(\"./src/scripts/drawer-search.js\");\n// EXTERNAL MODULE: ./src/scripts/nav.js\nvar scripts_nav = __webpack_require__(\"./src/scripts/nav.js\");\n// EXTERNAL MODULE: ./src/utils/tool.js + 1 modules\nvar tool = __webpack_require__(\"./src/utils/tool.js\");\n// EXTERNAL MODULE: ./src/packages/img-lazyload.js\nvar img_lazyload = __webpack_require__(\"./src/packages/img-lazyload.js\");\n// EXTERNAL MODULE: ./src/packages/illimited-load.js\nvar illimited_load = __webpack_require__(\"./src/packages/illimited-load.js\");\n// EXTERNAL MODULE: ./src/packages/request.js\nvar request = __webpack_require__(\"./src/packages/request.js\");\n// EXTERNAL MODULE: ./src/scripts/login-dialog.js\nvar login_dialog = __webpack_require__(\"./src/scripts/login-dialog.js\");\n// EXTERNAL MODULE: ./src/scripts/back-top.js\nvar back_top = __webpack_require__(\"./src/scripts/back-top.js\");\n// EXTERNAL MODULE: ./src/scripts/face-replace.js\nvar face_replace = __webpack_require__(\"./src/scripts/face-replace.js\");\n;// CONCATENATED MODULE: ./src/pages/index/index.js\n\n\n\n\n/*\r\n * @Author: mulingyuer\r\n * @Date: 2021-07-04 16:55:04\r\n * @LastEditTime: 2021-08-23 11:59:49\r\n * @LastEditors: mulingyuer\r\n * @Description: 首页\r\n * @FilePath: \\JJ\\src\\pages\\index\\index.js\r\n * 怎么可能会有bug！！！\r\n */\n //js\n\n\n //header\n\n\n\n\n\n\n\n\n\n\njquery_default()(function () {\n  //导航菜单\n  var mianNav = new header.MainNav(); //搜索\n\n  var search = new header.Search(); //博客功能按钮\n\n  var blogMenu = new header.BlogMenu(); //抽屉搜索\n\n  new drawer_search.default(); //导航按钮\n\n  var nav = new scripts_nav.Nav(); //收起动画\n\n  var collectHeader = new header.CollectHeader();\n  var collectNav = new scripts_nav.CollectNav(); //left内容  \n\n  var $skeleton = jquery_default()('#mini-article-skeleton-wrap');\n  var $articleList = jquery_default()('#article-list-wrap');\n  var imgLazy = null; //图片懒加载实例\n  //文章卡片点击事件\n\n  $articleList.on('click', function (event) {\n    var articleCard = (0,tool.specifyParentClass)('min-article-card', event.target);\n    if (!articleCard) return; //不存在就跳过\n\n    var link = articleCard.dataset.link;\n    link && window.open(link, \"_self\");\n  }); //无限加载\n\n  var $autoLoad = jquery_default()(\"#main .auto-load\"); //auto-load操作\n\n  var AutoLoadOperate = /*#__PURE__*/function () {\n    function AutoLoadOperate() {\n      (0,classCallCheck.default)(this, AutoLoadOperate);\n    }\n\n    (0,createClass.default)(AutoLoadOperate, null, [{\n      key: \"show\",\n      value: function show() {\n        if (!$autoLoad.hasClass(\"show\")) $autoLoad.addClass(\"show\");\n        return AutoLoadOperate;\n      }\n    }, {\n      key: \"hide\",\n      value: function hide() {\n        if ($autoLoad.hasClass(\"show\")) $autoLoad.removeClass(\"show\");\n        return AutoLoadOperate;\n      }\n    }, {\n      key: \"noMore\",\n      value: function noMore() {\n        $autoLoad.html('<span class=\"no-more\">没有更多了</span>');\n        return AutoLoadOperate;\n      }\n    }]);\n\n    return AutoLoadOperate;\n  }();\n\n  function articleLoad(resetFn) {\n    var nextLink = find_default()($autoLoad).call($autoLoad, \".next\").attr(\"href\");\n\n    if (!nextLink) {\n      AutoLoadOperate.noMore().show();\n    } else {\n      AutoLoadOperate.show(); //请求\n\n      var postData = {\n        url: nextLink,\n        method: \"get\"\n      };\n      (0,request.default)(postData).then(function (res) {\n        var $content = jquery_default()(\"<div></div>\").html(res); //创建dom\n\n        $articleList.append(find_default()($content).call($content, \"#article-list-wrap .min-article-card\")); //插入dom\n        //更新auto-load\n\n        var $newNext = find_default()($content).call($content, \".auto-load .next\");\n\n        if ($newNext.length) {\n          var $newAutoLoad = find_default()($content).call($content, \".auto-load\");\n\n          $autoLoad.replaceWith($newAutoLoad);\n          $autoLoad = $newAutoLoad; //恢复监听\n\n          resetFn && resetFn(); //图片懒加载\n\n          imgLazy && imgLazy.add(find_default()($articleList).call($articleList, \"img[data-src]\"));\n        } else {\n          AutoLoadOperate.noMore().show();\n        }\n      }).catch(function (err) {\n        console.log(err); //恢复监听\n\n        resetFn && resetFn();\n      });\n    }\n  } //登录弹窗\n\n\n  new login_dialog.default(); //返回顶部\n\n  new back_top.default(); //表情替换\n\n  new face_replace.default({\n    el: [\"#main .recent-comment .recent-body\"]\n  }); //骨架屏\n\n  setTimeout(function () {\n    if ($skeleton.length) $skeleton.remove();\n    if ($articleList.hasClass(\"hide\")) $articleList.removeClass(\"hide\");\n    imgLazy = new img_lazyload.default({\n      el: \"#article-list-wrap img[data-src]\"\n    }); //图片懒加载\n\n    if (!find_default()($autoLoad).call($autoLoad, \".next\").length) AutoLoadOperate.noMore().show(); //首次\n\n    new illimited_load.default({\n      callback: articleLoad\n    }); //无线加载\n  }, 300);\n});\n\n//# sourceURL=webpack://jj/./src/pages/index/index.js_+_1_modules?");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["vendor","common"], function() { return __webpack_exec__("./src/pages/index/index.js"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);